<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Web of Things (WoT) Thing Description</title>
    <script src="https://www.w3.org/Tools/respec/respec-w3c-common" class="remove"></script>
    <script class='remove'>
          var respecConfig = {
              specStatus:     "ED"
            , processVersion: 2017
            , shortName:      "wot-thing-description"
            , copyrightStart: 2017
            , noLegacyStyle:  true
            , inlineCSS:      true
            , noIDLIn:        true
            , format:         "markdown"
            , wg:             "Web of Things Working Group"
            , wgURI:          "https://www.w3.org/WoT/WG/"
            , wgPublicList:   "public-wot-wg"
            , edDraftURI:     "https://w3c.github.io/wot-thing-description/"
            , githubAPI:      "https://api.github.com/repos/w3c/wot-thing-description"
            , issueBase:      "https://www.github.com/w3c/wot-thing-description/issues"
            , editors: [
                {
                  name:       "Sebastian Kaebisch"
                , w3cid:      "43064"
                , company:    "Siemens AG"
                , companyURL: "https://www.siemens.com/"
                }
              , {
                  name:       "Takuki Kamiya"
                , w3cid:      "29376"
                , company:    "Fujitsu Laboratories of America, Inc."
                , companyURL: "https://www.fujitsu.com/"
                }
              ]
            , localBiblio: {
                "JSON-SCHEMA-VALIDATION": {
                  title:    "JSON Schema Validation: A Vocabulary for Structural Validation of JSON"
                , href:     "https://tools.ietf.org/html/draft-handrews-json-schema-validation-00"
                , authors: [
                    "Austin Wright"
                  , "Henry Andrews"
                  , "Geraint Luff"
                  ]
                , status:   "Internet-Draft"
                , publisher:  "IETF"
                }
              , "JSON-SCHEMA-CORE": {
                  title:    "JSON Schema: A Media Type for Describing JSON Documents"
                , href:     "https://tools.ietf.org/html/draft-handrews-json-schema-00"
                , authors:  [
                    "Austin Wright"
                  , "Henry Andrews"
                  ]
                , status:    "Internet-Draft"
                , publisher: "IETF"
                }
              , "OPENAPI": {
                  title:    "OpenAPI Specification: Version 3.0.1"
                , href:     "https://swagger.io/specification/"
                , authors:  [
		    "Darrel Miller"
                  , "Jason Harmon"
                  , "Jeremy Whitlock"
                  , "Kris Hahn"
                  , "Marsh Gardiner"
                  , "Mike Ralphson"
                  , "Rob Dolin"
                  , "Ron Ratovsky"
                  , "Tony Tam"
                  ]
                , publisher: "OpenAPI Initiative, Linux Foundation"
                , date: "7 December 2017"
                }
              , "SemVer": {
                  title:    "Semantic Versioning 2.0.0"
                , href:     "https://semver.org/"
                , authors:  ["Tom Preston-Werner"]
                , date: "26 December 2017"
                }
              , "MEDIATYPES": {
                  title:    "Media Types"
                , href:     "https://www.iana.org/assignments/media-types/media-types.xhtml"
                , publisher: "IANA"
                }
              , "WOT-ARCHITECTURE" : {
                  title: "Web of Things Architecture"
                , href: "https://w3c.github.io/wot-architecture/"
                , authors:  [
                    "Kazuo Kajimoto"
                  , "Matthias Kovatsch"
                  , "Uday Davuluru"
                  ]
                , publisher: "W3C"
                , date: "20 August 2017"
                }
              , "WOT-SECURITY-CONSIDERATIONS" : {
                title: "Web of Things Security and Privacy Considerations"
                , href: "https://w3c.github.io/wot-security/"
                , authors:  [
                  , "Michael McCool"
                  , "Elena Reshetova"
                  ]
                , publisher: "W3C"
                , date: "28 August 2017"
                }
              , "WOT-SECURITY-BEST-PRACTICES" : {
                title: "Web of Things Security and Privacy Best Practices (WIP)"
                , href: "https://github.com/w3c/wot-security/blob/master/wot-security-best-practices.md"
                , authors:  [
                  , "Michael McCool"
                  , "Elena Reshetova"
                  ]
                , publisher: "W3C"
                , date: "WIP"
                }
	          , "WOT-PROTOCOL-BINDING" : {
                  title: "Web of Things Protocol Binding Templates"
                , href: "https://w3c.github.io/wot-binding-templates/"
                , authors:  [
                    "Michael Koster"
                  ]
                , publisher: "W3C"
                , date: "12 January 2018"
                }
            , "WOT-ONTOLOGY" : {
                  title: "Web of Things (WoT) Ontology"
                , href: "https://wot-td-ontology.github.io/wot-thing-description/ontology/"
                , authors:  [
                    "Victor Charpenay"
                    , "Maxime Lefrançois"
                    , "María Poveda-Villalón"
                    , "Lionel Médini"
                  ]
                , publisher: "W3C"
                }
            , "iot.schema.org" : {
                  title: "iot.schema.org"
                , href: "https://iot.schema.org/"
                }
              }
            , otherLinks: [
                {
                  key: "Contributors"
                , data: [
                    {
                      value: "In the GitHub repository"
                    , href: "https://github.com/w3c/wot-thing-description/graphs/contributors"
                    }
                  ]
                }
              , {
                  key: "Repository",
                  data: [
                    {
                      value: "We are on GitHub"
                    , href: "https://github.com/w3c/wot-thing-description/"
                    }
                  , {
                      value: "File a bug"
                    , href: "https://github.com/w3c/wot-thing-description/issues"
                    }
                  ]
                }
              ]
            };
    </script>
<style>
.example {
		border-color: #EA1252;
		background: #FEF11E;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
</style>
</head>
<body>

  <p class="ednote" title="First draft based on Simplified TD">
  This is the first draft of a simplified TD approach where RDF and JSON-LD 
  considerations are assumed to be externalized in a separate Group Note [[WOT-ONTOLOGY]].<br/>
  Some definitions are not finished yet and are still in progress. 
  </p>


  <p class="todo">
      Check JSON-Schema. Raise issues (ex. types of properties safe and idempotent should be boolean )
  </p>


  <section id="abstract">
  <p>
  This document describes a formal model and a common representation 
  for a Web of Things (WoT) Thing Description. 
  A Thing Description describes the metadata and interfaces of Things, 
  where a Thing is an abstraction of a physical or virtual entity that 
  provides interactions to and participates in the Web of Things. 
  Thing Descriptions provide a set of interactions based on a small vocabulary 
  that makes it possible both to integrate diverse devices and 
  to allow diverse applications to interoperate. 
  Thing Descriptions, by default, are encoded in a JSON format that also allows
  JSON-LD processing. The latter provides a powerful foundation to represent
  knowledge about Things in a machine-understandable way.
  A Thing Description instance can be hosted by the Thing itself or hosted 
  externally when a Thing has resource restrictions (e.g., limited memory space) 
  or when a Web of Things-compatible legacy device is retrofitted 
  with a Thing Description.
  </p>
  </section>

  <section id="sotd">
  <p>
  Implementers need to be aware that this specification is considered unstable. 
  Vendors interested in implementing this specification before it eventually 
  reaches the Candidate Recommendation phase should subscribe to the 
  <a href="https://github.com/w3c/wot-thing-description">repository</a>
  and take part in the discussions.
  </p>
  <p class="ednote" title="The W3C WoT WG is asking for feedback">
  Please contribute to this draft using the 
  <a href="https://github.com/w3c/wot-thing-description/issues">GitHub Issue</a> 
  feature of the 
  <a href="https://github.com/w3c/wot-thing-description/">WoT Thing Description</a> 
  repository.
  For feedback on security and privacy considerations, 
  please use the
  <a href="https://github.com/w3c/wot-security/issues">WoT Security and Privacy</a> 
  Issues,
  as security and privacy is cross-cutting over all our documents.
  </p>
  </section>

  <section id="introduction">
  <h1>Introduction</h1>
  <p>
  The Thing Description (TD) is a central building block in the W3C Web of
  Things (WoT) and can be considered as the entry point of a Thing
  (much like the <i>index.html</i> of a Web site).
  The TD consists of semantic metadata for the Thing itself,
  an interaction model based on WoT's <code>Properties</code>,
  <code>Actions</code>, and <code>Events</code> paradigm, 
  a semantic schema to make data models machine-understandable, 
  and features for Web Linking to express relations among Things. 
  </p>
  <p>
  Properties can be used for sensing and controlling parameters,
  such as getting the current value or setting an operation state.
  Actions model invocation of physical (and hence time-consuming) processes,
  but can also be used to abstract RPC-like calls of existing platforms. 
  Events are used for the push model of communication where notifications,
  discrete events, or streams of values are sent asynchronously to the receiver.
  In general, the TD provides metadata for different communication bindings 
  identified by URI schemes (e.g., "http", "coap", "mqtt", etc.),
  content types (e.g., "application/json", "application/xml", "application/cbor",
  "application/exi" etc.), and security mechanisms (for authentication,
  authorization, confidentiality, etc.).
  Serialization of TD instances is based on JSON and includes at least 
  the TD core vocabulary as JSON keys as defined in this specification document.
  </p>
  <p>
  Example 1 shows a simple TD instance in such a JSON serializiation and
  depicts WoT's <code>Properties</code>, <code>Actions</code>,
  and <code>Events</code> paradigm 
  by describing a lamp Thing with the name <i>MyLampThing</i>.
  </p>
<pre id="simple-thing-description-sample" 
     class="example" title="Simple Thing Description Sample">
{
    "id": "urn:dev:wot:com:example:servient:lamp",
    "name": "MyLampThing",
    "securityDefinitions": {
        "basic_sc": {"scheme": "basic"}
    },
    "security": ["basic_sc"],
    "properties": {
        "status" : {
            "type": "string",
            "forms": [{"href": "https://mylamp.example.com/status"}]
        }
    },
    "actions": {
        "toggle" : {
            "forms": [{"href": "https://mylamp.example.com/toggle"}]
        }
    },
    "events":{
        "overheating":{
            "data": {"type": "string"},
            "forms": [{
                "href": "https://mylamp.example.com/oh",
                "subprotocol": "longpoll"
            }]
        }
    },
    "annotation": {
      "@context": {
        "@base": "http://example.org/data/",
        "vendor": "http://vendor.org/product/"
      }
      "@type": "vendor:color-light",
      "isAbstractionOf": "appartment/134#light-1"
    }
}
</pre>
  <p>
  Based on this content, 
  we know there exists one <code>Property</code> interaction resource 
  with the name <i>status</i>. 
  In addition, 
  information is provided to indicate that this Property is accessible via 
  (the secure form of) the HTTP protocol with a GET method 
  at the URI <code>https://mylamp.example.com/status</code> 
  (announced within the <code>forms</code> structure by the 
  <code>href</code> key), and will return a string status value.
  The use of the GET method is not stated explicitly, 
  but is one of the default assumptions defined by this document.
  </p>
  <p>
  In a similar manner, an <code>Action</code> is specified to toggle the
  switch status using the POST method applied to the 
  <code>https://mylamp.example.com/toggle</code> resource,
  where POST is again a default assumption for invoking Actions.
  </p>
  <p>
  The <code>Event</code> pattern enables a mechanism for asynchronous messages
  to be sent by a Thing.
  Here, a subscription to be notified upon a possible overheating event 
  of the lamp can be obtained by using the HTTP with its long polling
  sub-protocol at <code>https://mylamp.example.com/oh</code>.
  </p>
  <p>
  This example also specifies the <code>basic</code> security scheme, 
  requiring a username and password for access.
  Note that a security scheme is first given a name in a 
  <code>securityDefinition</code> and then activated by specifying
  that name in a <code>security</code> section.
  In combination with the use of the HTTP protocol this example
  demonstrates the use of HTTP Basic Authentication.
  Specification of at least one security scheme at the top level is mandatory,
  and gives the default access requirements for every resource.
  However, security schemes can also be specified per-interaction or per-form,
  with lower-level configurations overriding higher-level ones,
  allowing for the specification of fine-grained access control.
  It is also possible to use a special <code>nosec</code> security scheme to
  indicate that no access control mechanisms are used.
  Additional examples will be provided later.
  </p>
  <p>
  The TD in Example 1 reflects some additional defined default assumptions 
  that are not explicitly described. 
  For example, the content type of the 
  exchange format of the interactions is assumed to be JSON 
  (=<code>contentType</code>) and the <code>Property</code> <i>status</i> 
  resource is not <code>readOnly</code> as well as not <code>observable</code>. 
  Specifically, 
  the TD specification defines vocabulary terms 
  (<code>readOnly</code>, <code>observable</code>, <code>contentType</code>) 
  that have default values. 
  If these vocabulary terms are not explicitly used in a Thing Description 
  instance, 
  the Thing Description processor follows default assumptions for 
  interpretation as defined in this specification.
  </p>

  <p>
  For more examples, including the use of other protocols besides HTTP,
  see Section <a href="#example-serialization"></a>.
  </p>

  <p>
  The TD can also include additional semantic annotations, and be processed as 
  an RDF-based model [[?rdf11-primer]]. The WoT Ontology Group Note [[?WOT-ONTOLOGY]] 
  specifies related ontologies (defining concepts for Thing Descriptions, Security, 
  Data Schemas), transformation algorithms from TD to RDF, and guidelines on how to 
  use terms from external ontologies to annotate Thing Description instances: the 
  W3C Semantic Sensor Networks ontology [[?vocab-ssn]], and iot.schema.org 
  [[?iot.schema.org]].
  </p>
  </section>

  <section id="terminology"> 
  <h2>Terminology</h2>
  <p>Generic WoT terminology is defined in [[!WOT-ARCHITECTURE]]: 
  <dfn data-lt="Things">Thing</dfn>, 
  <dfn data-lt="Thing Descriptions">Thing Description</dfn> 
    (in short <dfn>TD</dfn>), 
  <dfn>Web of Things</dfn> (in short <b><i>WoT</i></b>),  
  <dfn>WoT Interface</dfn> etc.
  </p>
  </section>

  <section>
  <h1>Conformance</h1>
  <p>
  As well as all sections marked as non-normative, 
  all authoring guidelines, diagrams, examples, and notes in this specification 
  are non-normative. 
  Everything else in this specification is normative.
  </p>
  <p>
  The key words 
  <em title="MUST" class="rfc2119">MUST</em>, 
  <em title="MUST NOT" class="rfc2119">MUST NOT</em>, 
  <em title="REQUIRED" class="rfc2119">REQUIRED</em>, 
  <em title="SHOULD" class="rfc2119">SHOULD</em>, 
  <em title="SHOULD NOT" class="rfc2119">SHOULD NOT</em>, 
  <em title="RECOMMENDED" class="rfc2119">RECOMMENDED</em>, 
  <em title="MAY" class="rfc2119">MAY</em>,
  and <em title="OPTIONAL" class="rfc2119">OPTIONAL</em> 
  in this specification are to be interpreted as described in [[!RFC2119]].
  </p>
  <p>
  A Thing Description instance complies with this specification if it follows 
  the normative statements in Section 
  <a href="#sec-vocabulary-definition"></a>
  and Section 
  <a href="#sec-td-serialization"></a> 
  regarding Thing Description serialization.
  </p>
  <p>
  A JSON Schema [[?JSON-SCHEMA-VALIDATION]] is provided in Annex 
  <a href="#json-schema-4-validation"></a> 
  to validate Thing Description instances.
  </p>
  </section>



<section id="sec-vocabulary-definition"><h1>Information Model</h1><!-- h1>Vocabulary</h1 --><section><h2>Overview</h2><p>The W3C Thing Description provides a set of vocabulary for describing physical and virtual Things. <span class="rfc2119-assertion" id="td-vocabulary">All vocabulary restrictions noted in these tables MUST be followed, including mandatory items and default values. </span></p><p>In general, the Thing Description vocabulary set is grouped in three modules: the core Thing Description vocabulary reflecting WoT's paradigm of <code>Properties</code>, <code>Actions</code>, and <code>Events</code> (also see [[!WOT-ARCHITECTURE]]); the data schema vocabulary reflecting a subset of the terms defined in JSON Schema [[?JSON-SCHEMA-VALIDATION]] in a linked data representation; and the security vocabulary used to define security mechanism configuration requirements. </p><p>An overview of this vocabulary with its class context and class relation is given by the following three figures: the TD core model, the TD data schema model, and the TD security model. Please note that the figures reflect the vocabulary terms and structure as they would be used in a Thing Description instance (see Section <a href="#sec-td-serialization"></a>). </p><figure id="td-core-model"><img src="td-core-model/td-core-model.svg" alt="TD core model figure"/><figcaption>TD core model</figcaption></figure><figure id="td-data-schema-model"><img src="td-core-model/td-data-schema-model.svg" alt="TD data schema model figure"/><figcaption>TD data schema model</figcaption></figure><figure id="td-security-model"><img src="td-core-model/td-security-model.svg" alt="TD security model figure"/><figcaption>TD security model</figcaption></figure><p class="ednote" title="Default Values and Mandatory Attributes">In the figures above, and in the tables to follow, items which have default values are indicated as being optional. </p><p>A detailed description of the vocabulary of the TD core model and TD data schema model is given in the next sub-section.</p></section><section id="sec-core-vocabulary-definition"><h2>Core Vocabulary Definition</h2>      <section><h3><code>Thing</code></h3><p>Describes a physical and/or virtual Thing (may represent one or more physical and/or virtual Things) in the Web of Things context.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>id</code></td><td>unique identifier of the Thing (URI, e.g. custom URN)</td><td>yes</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>security</code></td><td>Set of security definition names, chosen from those defined in securityDefinitions.  These must all be satisfied for access to resources at or below the current level, if not overridden at a lower level.</td><td>yes</td><td>.</td><td>array of <a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>name</code></td><td>Name of the Thing.</td><td>yes</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>description</code></td><td>Provides additional (human-readable) information.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>support</code></td><td>Provides information about the TD maintainer (e.g., author, link or telephone number to get support, etc).</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>created</code></td><td>Provides information when the TD instance was created.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>lastModified</code></td><td>Provides information when the TD instance was last modified.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>base</code></td><td>Define the base URI that is valid for all defined local interaction resources. All other URIs in the TD must then be resolved using the algorithm defined in [[!RFC3986]].</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>properties</code></td><td>All Property-based interaction patterns of the Thing.</td><td>no</td><td>.</td><td><a href="#property"><code>Property</code></a></td></tr><tr><td><code>actions</code></td><td>All Action-based interaction patterns of the Thing.</td><td>no</td><td>.</td><td><a href="#action"><code>Action</code></a></td></tr><tr><td><code>events</code></td><td>All Event-based interaction patterns of the Thing.</td><td>no</td><td>.</td><td><a href="#event"><code>Event</code></a></td></tr><tr><td><code>links</code></td><td>Provides Web links to arbitrary resources that relate to the specified Thing Description.</td><td>no</td><td>.</td><td>array of <a href="#link"><code>Link</code></a></td></tr><tr><td><code>securityDefinitions</code></td><td>Set of named security configurations (definitions only).  Not actually applied unless names are used in a security section.</td><td>no</td><td>.</td><td><a href="#securityscheme"><code>SecurityScheme</code></a></td></tr><tr><td><code>version</code></td><td>Provides version information.</td><td>no</td><td>.</td><td><a href="#versioning"><code>Versioning</code></a></td></tr><tr><td><code>annotation</code></td><td>Additional semantic annotations about the thing, preferably reusing common external vocabularies and interpretable as RDF as specified in Section X of [[WOT-ONTOLOGY]].</td><td>no</td><td>.</td><td><code>Object</code></td></tr></tbody></table></section>      <section><h3><code>InteractionPattern</code></h3><p>Three interaction patterns are defined as subclasses: Property, Action and Event. When a concrete Property, Action or Event is defined in a Thing Description, it is called an &quot;interaction resource&quot;. Interactions between Things can be as simple as one Thing accessing another Thing&#39;s data to get or (in the case the data is also writable) change the representation of data such as metadata, status or mode. A Thing may also be interested in getting asynchronously notified of future changes in another Thing, or may want to initiate a process served in another Thing that may take some time to complete and monitor the progress. Interactions between Things may involve exchanges of data between them. This data can be either given as input by the client Thing, returned as output by the server Thing or both.</p><p><span class="rfc2119-assertion" id="td-unique-identifiers">Each instance of a <code>Property</code>, <code>Action</code>, and <code>Event</code> class MUST have an identifier that is unique within the context of a Thing Description document.</span></p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>forms</code></td><td>Indicates one or more endpoints from which an interaction pattern is accessible.</td><td>yes</td><td>.</td><td>array of <a href="#form"><code>Form</code></a></td></tr><tr><td><code>title</code></td><td>Provides a human-readable title (e.g., display a text for UI representation) of the interaction pattern.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>uriVariables</code></td><td>Define URI template variables as collection based on DataSchema declarations.</td><td>no</td><td>.</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr><tr><td><code>description</code></td><td>Provides additional (human-readable) information.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>security</code></td><td>Set of security definition names, chosen from those defined in securityDefinitions.  These must all be satisfied for access to resources at or below the current level, if not overridden at a lower level.</td><td>no</td><td>.</td><td>array of <a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>scopes</code></td><td>Set of authorization scope identifiers, provided as an array.  These are provided in tokens returned by an authorization server and associated with forms in order to identify what resources a client may access and how.</td><td>no</td><td>.</td><td>array of <a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>annotation</code></td><td>Additional semantic annotations about the interaction pattern, preferably reusing common external vocabularies and interpretable as RDF as specified in Section X of [[WOT-ONTOLOGY]].</td><td>no</td><td>.</td><td><code>Object</code></td></tr></tbody></table><p>The class <code>InteractionPattern</code> has the following subclasses:</p><ul><li><td><a href="#action"><code>Action</code></a></td></li><li><td><a href="#event"><code>Event</code></a></td></li><li><td><a href="#property"><code>Property</code></a></td></li></ul></section>      <section><h3><code>Property</code></h3><p>Properties expose internal state of a Thing that can be directly retrieved (get) and optionally modified (set). In addition, Things can also choose to make Properties observable by pushing the new state (not an event) after a change; this must follow eventual consistency (also see CAP Theorem).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>observable</code></td><td>Indicates whether a remote servient can subscribe to (&quot;observe&quot;) the Property, to receive change notifications or periodic updates (true/false).</td><td>no</td><td>false</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr></tbody></table><p class="note">Property instances are also instances of the class <a href="#dataschema" class="sec-ref">DataSchema</a>. Therefore, it can contain the <code>type</code>, <code>unit</code>, <code>readOnly</code> and <code>writeOnly</code> fields, among others.</p></section>      <section><h3><code>Action</code></h3><p>Actions offer functions of the Thing. These functions may manipulate the internal state of a Thing in a way that is not possible through setting Properties. Examples are changing internal state that is not exposed as a Property, changing multiple Properties, changing Properties over time or with a process that should not be disclosed. Actions may also be pure functions, that is, they may not use any internal state at all, and may simply process input data and return a result that directly depends only on the input given.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>input</code></td><td>Used to define the input data schema of the action.</td><td>no</td><td>.</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr><tr><td><code>output</code></td><td>Used to define the output data schema of the action.</td><td>no</td><td>.</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr><tr><td><code>safe</code></td><td>Signals if the action is safe (=true) or not. Used to signal if there is no internal state (cf. resource state) is changed when invoking an Action. In that case responses can be cached as example.</td><td>yes</td><td>false</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr><tr><td><code>idempotent</code></td><td>Signals if the action is idempotent (=true) or not. Informs if the action can be called repeatedly with the same outcome. .</td><td>yes</td><td>false</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr></tbody></table></section>      <section><h3><code>Event</code></h3><p>The Event Interaction Pattern describes event sources that asynchronously push messages. Here not state, but state transitions (events) are communicated (e.g., &quot;clicked&quot;). Events may be triggered by internal state changes that are not exposed as Properties. Events usually follow strong consistency, where messages need to be queued to ensure eventual delivery of all events that have occurred.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>data</code></td><td>Defines the data schema of the Event instance messages pushed by the Thing.</td><td>no</td><td>.</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr><tr><td><code>subscription</code></td><td>Defines data that needs to be passed upon subscription, e.g., filters or message format for setting up Webhooks.</td><td>no</td><td>.</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr><tr><td><code>cancellation</code></td><td>Defines any data that needs to be passed to cancel a subscription, e.g., a specific message to remove a Webhook.</td><td>no</td><td>.</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr></tbody></table></section>      <section><h3><code>Form</code></h3><p>Communication metadata indicating where a service can be accessed by a client application. An interaction might have more than one form.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>href</code></td><td>URI of the endpoint where an interaction pattern is provided.</td><td>yes</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>contentType</code></td><td>Assign a content type based on a media type [[!MEDIATYPES]] (e.g., &#39;application/json) and (optional) parameters (e.g., &#39;charset=utf-8&#39;).</td><td>yes</td><td>application/json</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>op</code></td><td>Indicates the expected result of performing the operation described by the form.

For example, the Property interaction allows get and set operations.  
The protocol binding may contain a form for the get operation and a different form for the set operation.  
The op attribute indicates which form is which and allows the client to select the correct form for the operation required.<p>The value of the <code>op</code> attribute of the form must be one of readproperty, writeproperty, observeproperty, invokeaction, subscribeevent, or unsubscribeevent. </p></td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a><p>(one of  <code>"readproperty"</code>, <code>"writeproperty"</code>, <code>"observeproperty"</code>, <code>"invokeaction"</code>, <code>"subscribeevent"</code>, or <code>"unsubscribeevent"</code>) </p></td></tr><tr><td><code>subprotocol</code></td><td>Indicates the exact mechanism by which an interaction will be accomplished for a given protocol when there are multiple options.
     
For example, for HTTP and Events, it indicates which of several available mechanisms should be used for asynchronous notifications.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a><p>(one of  <code>"longpoll"</code>)</p></td></tr><tr><td><code>security</code></td><td>Set of security definition names, chosen from those defined in securityDefinitions.  These must all be satisfied for access to resources at or below the current level, if not overridden at a lower level.</td><td>no</td><td>.</td><td>array of <a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>scopes</code></td><td>Set of authorization scope identifiers, provided as an array.  These are provided in tokens returned by an authorization server and associated with forms in order to identify what resources a client may access and how.</td><td>no</td><td>.</td><td>array of <a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>annotation</code></td><td>Additional semantic annotations about the form, preferably reusing common external vocabularies and interpretable as RDF as specified in Section X of [[WOT-ONTOLOGY]].</td><td>no</td><td>.</td><td><code>Object</code></td></tr></tbody></table></section>      <section><h3><code>Link</code></h3><p>A Web link, as specified by IETF RFC 8288 (https://tools.ietf.org/html/rfc8288).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>href</code></td><td>URI of the endpoint where an interaction pattern is provided.</td><td>yes</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>type</code></td><td>Provides a hint indicating what the media type [[!MEDIATYPES]] of the result of dereferencing the link should be.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>rel</code></td><td>Indicates the relation to an other Thing.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>anchor</code></td><td>By default, the context of a link is the URL of the representation it is associated with, and is serialised as a URI. When present, the anchor parameter overrides this with another URI, such as a fragment of this resource, or a third resource (i.e., when the anchor value is an absolute URI).</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>annotation</code></td><td>Additional semantic annotations about the link, preferably reusing common external vocabularies and interpretable as RDF as specified in Section X of [[WOT-ONTOLOGY]].</td><td>no</td><td>.</td><td><code>Object</code></td></tr></tbody></table></section>      <section><h3><code>Versioning</code></h3><p>Carries version information about the TD instance. If required, additional version information such as firmware and hardware version (term definitions outside of the TD namespace) can be extended here.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>instance</code></td><td>Provides a version identicator of this TD instance.</td><td>yes</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section></section><section id="sec-data-schema-vocabulary-definition"><h2>Data Schema Vocabulary Definition</h2>      <section><h3><code>DataSchema</code></h3><p></p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>description</code></td><td>Provides additional (human-readable) information.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>title</code></td><td>Provides a human-readable title (e.g., display a text for UI representation) of the interaction pattern.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>type</code></td><td>Assignment of JSON-based data types compatible with JSON Schema (one of boolean, integer, number, string, object, array, or null).</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a><p>(one of  <code>"boolean"</code>, <code>"integer"</code>, <code>"number"</code>, <code>"string"</code>, <code>"object"</code>, <code>"array"</code>, or <code>"null"</code>) </p></td></tr><tr><td><code>const</code></td><td>Provides a constant value.</td><td>no</td><td>.</td><td>a value of any type that is consistent with the type given to the above <code>type</code> field definition if any</td></tr><tr><td><code>unit</code></td><td>Provides unit information that is used, e.g., in international science, engineering, and business.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>enum</code></td><td>Restricted set of values provided as an array.</td><td>no</td><td>.</td><td>array of values of any type with each consistent with the type given to the above <code>type</code> field definition if any</td></tr><tr><td><code>readOnly</code></td><td>Boolean value that indicates whether a property interaction / value is read only (=true) or not (=false).</td><td>yes</td><td>false</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr><tr><td><code>writeOnly</code></td><td>Boolean value that indicates whether a property interaction / value is write only (=true) or not (=false).</td><td>yes</td><td>false</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code>boolean</code></a></td></tr><tr><td><code>dataSchemaAnnotation</code></td><td>Additional semantic annotations about the data schema, preferably reusing common external vocabularies and interpretable as RDF as specified in Section X of [[WOT-ONTOLOGY]].</td><td>no</td><td>.</td><td><code>Object</code></td></tr></tbody></table><p>The class <code>DataSchema</code> has the following subclasses:</p><ul><li><td><a href="#arrayschema"><code>ArraySchema</code></a></td></li><li><td><a href="#booleanschema"><code>BooleanSchema</code></a></td></li><li><td><a href="#integerschema"><code>IntegerSchema</code></a></td></li><li><td><a href="#numberschema"><code>NumberSchema</code></a></td></li><li><td><a href="#objectschema"><code>ObjectSchema</code></a></td></li><li><td><a href="#stringschema"><code>StringSchema</code></a></td></li></ul></section>      <section><h3><code>ArraySchema</code></h3><p>A JSON array specification (&quot;type&quot;: &quot;array&quot;).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>items</code></td><td>Used to define the characteristics of an array.</td><td>no</td><td>.</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr><tr><td><code>minItems</code></td><td>Defines the minimum number of items that have to be in the array.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt"><code>unsignedInt</code></a></td></tr><tr><td><code>maxItems</code></td><td>Defines the maximum number of items that have to be in the array.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt"><code>unsignedInt</code></a></td></tr></tbody></table></section>      <section><h3><code>ObjectSchema</code></h3><p>A JSON object specification (&quot;type&quot;: &quot;object&quot;).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>properties</code></td><td>Data schema nested definitions.</td><td>no</td><td>.</td><td><a href="#dataschema"><code>DataSchema</code></a></td></tr><tr><td><code>required</code></td><td>Defines which members of the object type are mandatory.</td><td>no</td><td>.</td><td>array of <a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>BooleanSchema</code></h3><p>A JSON boolean value specification (&quot;type&quot;: &quot;boolean&quot;).</p></section>      <section><h3><code>NumberSchema</code></h3><p>A JSON number value specification (&quot;type&quot;: &quot;number&quot;).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>minimum</code></td><td>Specifies a minimum numeric value. Only applicable for associated number or integer types.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double"><code>double</code></a></td></tr><tr><td><code>maximum</code></td><td>Specifies a maximum numeric value. Only applicable for associated number or integer types.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double"><code>double</code></a></td></tr></tbody></table></section>      <section><h3><code>StringSchema</code></h3><p>A JSON string value specification (&quot;type&quot;: &quot;string&quot;).</p></section>      <section><h3><code>IntegerSchema</code></h3><p>A JSON integer value specification, that is, numbers without a fractional part (&quot;type&quot;: &quot;integer&quot;).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>minimum</code></td><td>Specifies a minimum numeric value. Only applicable for associated number or integer types.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer"><code>integer</code></a></td></tr><tr><td><code>maximum</code></td><td>Specifies a maximum numeric value. Only applicable for associated number or integer types.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer"><code>integer</code></a></td></tr></tbody></table></section></section><section id="sec-security-vocabulary-definition"><h2>Security Vocabulary Definition</h2><p>For the core TD vocabulary only well-established security  mechanisms are supported, such as those built into protocols supported by WoT  or already in wide use with those protocols.  The current set of HTTP security schemes is partly based on <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#securitySchemeObject">OpenAPI 3.0.1</a> (see also [[?OPENAPI]]). Note however that while the HTTP security schemes, vocabulary and syntax given in this specification share many similarities with OpenAPI they are not fully compatible.  Also, since OpenAPI primarily targets web services built around HTTP, it does not cover the full set of use cases required for the IoT.  Security schemes appropriate for IoT-centered protocols such as CoAP and MQTT are therefore also included.</p><p class="ednote" title="Security Scheme Extensions">The vocabulary extension mechanism of the WoT Thing Description allows for additional security schemes if needed.However, for more information about what additional security schemes or modifications are under discussion for the core WoT vocabulary(and to file issues if you have a request) please visit the <a href="https://github.com/w3c/wot-security">WoT Security TF repository.</a></p>      <section><h3><code>SecurityScheme</code></h3><p></p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>scheme</code></td><td>Identification of security mechanism being configured.</td><td>yes</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a><p>(one of  <code>"nosec"</code>, <code>"basic"</code>, <code>"cert"</code>, <code>"digest"</code>, <code>"bearer"</code>, <code>"pop"</code>, <code>"psk"</code>, <code>"public"</code>, <code>"oauth2"</code>, or <code>"apikey"</code>) </p></td></tr><tr><td><code>description</code></td><td>Provides additional (human-readable) information.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>proxy</code></td><td>URI of the proxy server this security configuration provides access to.  If not given, the corresponding security configuration is for the endpoint.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>annotation</code></td><td>Additional semantic annotations about the security scheme, preferably reusing common external vocabularies and interpretable as RDF as specified in Section X of [[WOT-ONTOLOGY]].</td><td>no</td><td>.</td><td><code>Object</code></td></tr></tbody></table><p>The class <code>SecurityScheme</code> has the following subclasses:</p><ul><li><td><a href="#apikeysecurityscheme"><code>APIKeySecurityScheme</code></a></td></li><li><td><a href="#basicsecurityscheme"><code>BasicSecurityScheme</code></a></td></li><li><td><a href="#bearersecurityscheme"><code>BearerSecurityScheme</code></a></td></li><li><td><a href="#certsecurityscheme"><code>CertSecurityScheme</code></a></td></li><li><td><a href="#digestsecurityscheme"><code>DigestSecurityScheme</code></a></td></li><li><td><a href="#nosecurityscheme"><code>NoSecurityScheme</code></a></td></li><li><td><a href="#oauth2securityscheme"><code>OAuth2SecurityScheme</code></a></td></li><li><td><a href="#psksecurityscheme"><code>PSKSecurityScheme</code></a></td></li><li><td><a href="#popsecurityscheme"><code>PoPSecurityScheme</code></a></td></li><li><td><a href="#publicsecurityscheme"><code>PublicSecurityScheme</code></a></td></li></ul></section>      <section><h3><code>NoSecurityScheme</code></h3><p>A security configuration corresponding to (&quot;scheme&quot;: &quot;nosec&quot;), indicating there is no authentication or other mechanism required to access the resource.</p></section>      <section><h3><code>BasicSecurityScheme</code></h3><p>Basic authentication security configuration (&quot;scheme&quot;: &quot;basic&quot;), using an unencrypted username and password.  This scheme should be used with some other security mechanism providing confidentiality, for example, TLS.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>in</code></td><td>Specifies the location of security authentication information (one of header, query, body, or cookie).</td><td>no</td><td>header</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>name</code></td><td>Name for query, header, or cookie parameters.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>CertSecurityScheme</code></h3><p>Certificate-base asymmetric key security configuration (&quot;scheme&quot;: &quot;cert&quot;).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>identity</code></td><td>Pre-shared key identity.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>DigestSecurityScheme</code></h3><p>Digest authentication security configuration (&quot;scheme&quot;: &quot;digest&quot;). This scheme is similar to basic authentication but with added features to avoid man-in-the-middle attacks.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>qop</code></td><td>Quality of protection (one of auth or auth-int).</td><td>no</td><td>auth</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>in</code></td><td>Specifies the location of security authentication information (one of header, query, body, or cookie).</td><td>no</td><td>header</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>name</code></td><td>Name for query, header, or cookie parameters.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>BearerSecurityScheme</code></h3><p>Bearer token authentication security configuration (&quot;scheme&quot;: &quot;bearer&quot;).  This scheme is intended for situations where bearer tokens are used independently of OAuth2.  If the oauth2 scheme is specified it is not generally necessary to specify this scheme as well as it is implied.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>authorization</code></td><td>URI of the authorization server.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>alg</code></td><td>Encoding, encryption, or digest algorithm (one of MD5, ES256, or ES512-256).</td><td>no</td><td>ES256</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>format</code></td><td>Specifies format of security authentication information (one of jwt, jwe, or jws).</td><td>no</td><td>jwt</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>in</code></td><td>Specifies the location of security authentication information (one of header, query, body, or cookie).</td><td>no</td><td>header</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>name</code></td><td>Name for query, header, or cookie parameters.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>PSKSecurityScheme</code></h3><p>Pre-shared key authentication security configuration (&quot;scheme&quot;: &quot;psk&quot;).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>identity</code></td><td>Pre-shared key identity.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>PublicSecurityScheme</code></h3><p>Raw public key asymmetric key security configuration (&quot;scheme&quot;: &quot;public&quot;).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>identity</code></td><td>Pre-shared key identity.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>OAuth2SecurityScheme</code></h3><p>OAuth2 authentication security configuration (&quot;scheme&quot;: &quot;oauth2&quot;).  For the implicit flow the authorization and scopes are required.  For the password and client flows both token and scopes are required.  For the code flow authorization, token, and scopes are required.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>authorization</code></td><td>URI of the authorization server.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>token</code></td><td>URI of the token server.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>refresh</code></td><td>URI of the refresh server.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>scopes</code></td><td>Set of authorization scope identifiers, provided as an array.  These are provided in tokens returned by an authorization server and associated with forms in order to identify what resources a client may access and how.</td><td>no</td><td>.</td><td>array of <a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>flow</code></td><td>Authorization flow (one of implicit, password, client, or code).</td><td>no</td><td>implicit</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>APIKeySecurityScheme</code></h3><p>API key authentication security configuration (&quot;scheme&quot;: &quot;apikey&quot;).  This is for the case where the access token is opaque and is not using a standard token format.</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>in</code></td><td>Specifies the location of security authentication information (one of header, query, body, or cookie).</td><td>no</td><td>query</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>name</code></td><td>Name for query, header, or cookie parameters.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section>      <section><h3><code>PoPSecurityScheme</code></h3><p>Proof-of-possession token authentication security configuration (&quot;scheme&quot;: &quot;pop&quot;).</p><table class="def"><thead><tr><th>Field Name</th><th>Description</th><th>Mandatory</th><th>Default value</th><th>Type</th></tr></thead><tbody><tr><td><code>authorization</code></td><td>URI of the authorization server.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code>anyURI</code></a></td></tr><tr><td><code>alg</code></td><td>Encoding, encryption, or digest algorithm (one of MD5, ES256, or ES512-256).</td><td>no</td><td>ES256</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>format</code></td><td>Specifies format of security authentication information (one of jwt, jwe, or jws).</td><td>no</td><td>jwt</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>in</code></td><td>Specifies the location of security authentication information (one of header, query, body, or cookie).</td><td>no</td><td>header</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr><tr><td><code>name</code></td><td>Name for query, header, or cookie parameters.</td><td>no</td><td>.</td><td><a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code>string</code></a></td></tr></tbody></table></section></section></section>



  <section id="sec-td-serialization">
  <h1>Thing Description Serialization</h1>

  <p class="ednote" title="Separate Group Note for Transformation to RDF">
  This is the first draft of a simplified TD approach where RDF and JSON-LD 
  considerations are assumed to be externalized in a separate Group Note [[?WOT-ONTOLOGY]].
  </p>

  <p>
  Thing Description instances are modeled and structured based on Section
  <a href="#sec-vocabulary-definition"></a>.
  This section defines a TD serialization based on JSON [[!RFC8259]].
  </p>

  <section id="json-serializiation-section">
  <h1>Representation Format</h1>

  <p>
  In order to enable this convergence,
  all vocabulary terms defined in Section
  <a href="#sec-vocabulary-definition"></a>
  will have a JSON key representation.
  </p>

  <p>
  The data types of the vocabulary as defined in Section
  <a href="#sec-data-schema-vocabulary-definition"></a>
  will be transformed to JSON-based types. 
  The following rules are used for vocabulary terms based on some simple type 
  definitions:
  </p>
  <ul>
  <li><span class="rfc2119-assertion" id="td-string-type">
        Vocabulary terms that use simple types string and anyURI
        MUST be serialized as JSON string.
  </span></li>
  <li><span class="rfc2119-assertion" id="td-integer-type">
        Vocabulary terms that use simple type unsignedInt
        MUST be serialized as JSON integer.
  </span></li>
  <li><span class="rfc2119-assertion" id="td-number-type">
        Vocabulary terms that use simple type double
        MUST be serialized as JSON number.
  </span></li>
  </ul>

  <p>
  All vocabulary terms in Section
  <a href="#sec-vocabulary-definition"></a>
  associated with more complex class-based types are defined separately for 
  structured JSON type transformation in the following subsections.
  </p>

  <section id="sec-thing-as-a-whole-json">
  <h2>Thing as a whole</h2>

  <p><span class="rfc2119-assertion" id="td-context-toplevel">
  Each mandatory and optional field name
  as defined in the class <a href="#thing" class="sec-ref"><code>Thing</code></a>
  MUST be serialized as a JSON key 
  in the root object of the Thing Description instance.
  </span></p>

  <!-- should this be "the type" or "the elements of"? -->
  <p><span class="rfc2119-assertion" id="td-objects">
  The type of the fields <code>properties</code>, <code>actions</code>, 
  <code>events</code>, and <code>version</code> MUST be a JSON object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-arrays">
  The type of the fields <code>links</code>,
  <code>scopes</code>, and <code>security</code>
  MUST be a JSON array.
  </span></p>

  <p>
  A TD snippet based on the defined fields of the class
  <a href="#thing" class="sec-ref"><code>Thing</code></a> is given below:
  </p>
<pre class="example">
{
    "id": "urn:dev:wot:com:example:servient:myThing",
    "name": "MyThing",
    "description": "Additional (human) readable information of the Thing.",
    "support": "https://servient.example.com/contact",
    "securityDefinitions": {...},
    "security": [...],
    "base": "https://servient.example.com/",
    "lastModified" : "2018-11-15T09:12:43.124Z",
    "created" : "2018-11-14T19:10:23.824Z",
    "version" : {...},
    "properties": {...},
    "actions": {...},
    "events": {...},
    "links": [...]
}
</pre>

 </section> <!-- end of id="sec-thing-as-a-whole-json"-->

 <section id="property-serialization-json">
 <h2><code>properties</code></h2>
  
  <p><span class="rfc2119-assertion" id="td-properties">
  Properties (and sub-properties) offered by a Thing MUST be collected
  in the JSON-object based <code>properties</code> field
  with (unique) Property names as JSON keys.
  </span></p>

  <span class="rfc2119-assertion" id="td-property-keys">
  Each mandatory and optional vocabulary term
  as defined in the class <a href="#property" class="sec-ref"><code>Property</code></a>,
  as well as its two superclasses
  <a href="#interactionpattern" class="sec-ref"><code>InteractionPattern</code></a>
  and <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a>,
  MUST be serialized as a JSON key within a Property object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-property-objects">
  The type of the fields <code>properties</code> and <code>items</code> 
  MUST be serialized as a JSON object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-property-arrays">
  The type of the fields <code>forms</code>, <code>required</code>, 
  and <code>enum</code>, <code>scopes</code>, and <code>security</code>,
  MUST be serialized as a JSON array.
  </span></p>

  <p>
  A TD snippet based on the defined fields is given below:
  </p>
<pre class="example">
{
    ...
    "properties": {
        "on": {
            "title": "On/Off",
            "type": "boolean",
            "forms": [...]
        },
        "status": {
            "type": "object",
            "properties": {
                "brightness": {
                    "type": "number",
                    "minimum": 0.0,
                    "maximum": 100.0
                 },
                 "rgb": {
                    "type": "array",
                    "items" : {
                        "type" : "number",
                        "minimum": 0,
                        "maximum": 255
                    },
                    "minItems": 3,
                    "maxItems": 3
                }
            },
            "required": ["brightness", "rgb"],
            "forms": [...]
        }
    }
    ...
}
</pre>
  </section> <!-- end of id="property-serialization-json"-->

  <section id="action-serialization-json">
  <h2><code>actions</code></h2>

  <p><span class="rfc2119-assertion" id="td-actions">
  Actions offered by a Thing MUST be collected
  in the JSON-object based <code>actions</code> field
  with (unique) Action names as JSON keys.
  </span></p>

  <span class="rfc2119-assertion" id="td-action-keys">
  Each optional vocabulary term
  as defined in the class <a href="#action" class="sec-ref"><code>Action</code></a>
  and its superclass
  <a href="#interactionpattern" class="sec-ref"><code>InteractionPattern</code></a>
  MUST be serialized as a JSON key within an Action object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-action-objects">
  The type of the fields <code>input</code> and <code>output</code>
  MUST be serialized as a JSON object.
  </span></p>

  <p>The keys of <code>input</code> and <code>output</code>
  rely on the the class <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a>.
  </p>

  <p><span class="rfc2119-assertion" id="td-action-arrays">
  The type of the fields <code>forms</code>, <code>scopes</code>,
  and <code>security</code>
  MUST be serialized as a JSON array.
  </span></p>

  <p>
  A TD snippet based on the defined fields is given below:
  </p>

<pre class="example">
    ...
    "actions": {
        "fade" : {
            "title": "Fade in/out",
            "description": "Smooth fade in and out animation.",
            "input": {
                "type": "object",
                "properties": {
                    "from": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 100
                    },
                    "to": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 100
                    },
                    "duration": {"type": "number"}
                },
                "required": ["to","duration"],
            },
            "output": {"type": "string"},
            "forms": [...]
        }
        ...
    }
    ...
</pre>

  </section> <!-- end of id="action-serialization-json"-->

  <section id="event-serialization-json">
  <h2><code>events</code></h2>

  <p><span class="rfc2119-assertion" id="td-events">
  Events offered by a Thing MUST be collected
  in the JSON-object based <code>events</code> field
  with (unique) Event names as JSON keys.
  </span></p>

  <span class="rfc2119-assertion" id="td-event-keys">
  Each optional vocabulary term
  as defined in the class <a href="#event" class="sec-ref"><code>Event</code></a>,
  as well as its two superclasses
  <a href="#interactionpattern" class="sec-ref"><code>InteractionPattern</code></a>
  and <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a>,
  MUST be serialized as a JSON key within an Event object.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-action-objects">
    The type of the fields <code>subscription</code>, <code>data</code>, and <code>cancellation</code>
    MUST be serialized as a JSON object.
    </span></p>
  
    <p>The keys of <code>subscription</code>, <code>data</code>, and <code>cancellation</code>
    rely on the the class <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a>.
    </p>

  <p><span class="rfc2119-assertion" id="td-event-arrays">
  The type of the fields <code>forms</code>, <code>required</code>, 
  and <code>enum</code>, <code>scopes</code>, and <code>security</code>
  MUST be serialized as a JSON array.
  </span></p>

  <p>
  A TD snippet based on the defined fields is given below:
  </p>
<pre class="example">
    ...
    "events": {
        "overheated": {
            "data" : {"type": "object"},
            "properties": {
                "temperature": { "type": "number" }
            },
            "forms": [...]
        }
        ...
    }
    ...
</pre>

  </section> <!-- end of id="event-serialization-json"-->

  <section id="form-serialization-json">
  <h2><code>forms</code></h2>

  <p><span class="rfc2119-assertion" id="td-forms">
  Each mandatory and optional vocabulary term
  as defined in the class <a href="#form" class="sec-ref"><code>Form</code></a>,
  MUST be serialized as a JSON key.
  </span></p>

  <p><span class="rfc2119-assertion" id="td-form-protocolbindings">
  If required, <code>forms</code> 
  MAY be supplemented with protocol-specific vocabulary terms 
  identified with a prefix. 
  </span>
  See also [[!WOT-PROTOCOL-BINDING]].
  </p>

  <p>A TD snippet based on the defined fields is given below:</p>
<pre class="example">
{
  ...
  "securityDefinitions": {
      "basic_sc": {"scheme":"basic", "in":"header"}
  },
    ...
    "forms": [{
        "href" : "http://mytemp.example.com:5683/temp",
        "contentType": "application/json",
        "http:methodName": "POST",
        "op": "writeproperty",
        "security": ["basic_sc"]
    }]
    ...
}
</pre>

    <p><code>href</code> may also carry an URI that contains dynamic variables such as p and d in http://192.168.1.25/left?p=2&d=1. It that case the URI can be defined as template as defined in [[!RFC6570]]: http://192.168.1.25/left{?p,d}</p>

    <p><span class="rfc2119-assertion" id="td-events">
        In such a case these variables in the URI MUST be collected
        in the JSON-object based <code>uriVariables</code> field
        with the associated (unique) variables names as JSON keys.
    </span></p>

    <p>The keys of <code>uriVariables</code> 
        rely on the the class <a href="#dataschema" class="sec-ref"><code>DataSchema</code></a>.
    </p>


    <p>A TD snippet using URI template and <code>uriVariables</code> is given below:</p>

    <pre class="example">
        ...
        "actions": {
            "LeftDown": {
              "uriVariables": {
                "p" : { "type": "integer", "minimum": 0, "maximum": 16, "@type": "example:SomeKindOfAngle" },
                "d" : { "type": "integer", "minimum": 0, "maximum": 1, "@type": "example:Direction" },
                }
              },
              "form": [{
                "http:method": "GET",
                "href" : "http://192.168.1.25/left{?p,d}"
              }]
            }
        ...
    </pre>


   <p>The <code>contentType</code> is used to assign a media types [[!MEDIATYPES]] and MAY contain one or more parameters as 
    attribute-value pair separated by a <code>;</code> character. Example:</p>

   <pre class="example">
    ...
    "contentType" : "application/text; charset=utf-8"
    ...
</pre>


    </section> <!-- end of id="form-serialization-json"-->

    <section id="links-serialization-json">
    <h2><code>links</code></h2>

    <p><span class="rfc2119-assertion" id="td-links">
    Each mandatory and optional vocabulary term
    as defined in the class <a href="#link" class="sec-ref"><code>Link</code></a>,
    MUST be serialized as a JSON key.
    </span></p>

    <p>A TD snippet based on the defined fields is given below:</p>

<pre class="example">
    ...
    "links": [{
        "href": "https://servient.example.com/things/lampController",
        "rel": "controlledBy",
        "type": "application/td+json"
    }]
    ...
</pre>

    </section> <!-- end of id="links-serialization-json"-->

    <section id="security-serialization-json">
    <h2><code>security</code></h2>

    <p><span class="rfc2119-assertion" id="td-security">
    Each mandatory and optional vocabulary term
    as defined in the class 
    <a href="#securityscheme" class="sec-ref"><code>SecurityScheme</code></a>,
    MUST be serialized as a JSON key.
    </span></p>

    <p>
    The following TD snippet shows a simple security configuration specifying
    basic username/password authentication in the header.
    The value of <code>in</code> given is actually the default value of
    <code>header</code>.  
   First, a named security configuration must be given
   in a <code>securityDefinitions</code> block.
   Second, that definition must be activated in a <code>security</code>
   block.
    </p>
<pre class="example" id="security-basic-example">
   ...
   "securityDefinitions": {
       "basic_sc": {
           "scheme": "basic",
           "in": "header"
       }
   },
   ...
   "security": ["basic_sc"]
   ...
</pre>

    <p>
    Here is a more complex example: a TD snippet showing digest 
    authentication on a proxy combined with bearer token authentication 
    on an endpoint.  
    Here the default 
    value of <code>in</code> in the <code>digest</code> scheme,
    <code>header</code>, is implied.
    </p>
<pre class="example" id="security-digest-example">
    ...
    "securityDefinitions": {
        "basic_sc": {
           "scheme": "digest",
           "proxy": "https://portal.example.com/"
        },
        "bearer_sc": {
           "scheme": "bearer",
           "format": "jwt",
           "alg": "ES256",
           "authorization": "https://servient.example.com:8443/"
        }
    },
    ...
    "security": ["basic_sc","bearer_sc"],
    ...
</pre>

    <p>
    Security configuration is mandatory. 
    <span class="rfc2119-assertion" id="td-security-mandatory">
    Every Thing MUST have at least one security scheme specified at the top level. 
    </span>
    <span class="rfc2119-assertion" id="td-security-overrides">
    Security schemes MAY also be specified at the interaction and form levels.
    In this case, definitions at the lower levels override (completely replace)
    the definitions at the higher level. 
    </span>
    </p>
    <p>
    Security configuration must accurately reflect the requirements of the Thing.
    <span class="rfc2119-assertion" id="td-security-binding">
    If a Thing requires a specific access mechanism for a resource, that 
    mechanism MUST be specified in the Thing Description's security scheme configuration 
    for that resource. 
    </span>  
    <span class="rfc2119-assertion" id="td-security-no-extras">
    If a Thing does not require a specific access mechanism for a resource, that 
    mechanism MUST NOT be specified in the Thing Description's security scheme configuration 
    for that resource. 
    </span>  
    Some protocols can ask for authentication dynamically.  
    If a protocol asks for
    a form of security credentials not declared in the Thing Description 
    then the Thing Description
    is to be considered invalid.
    </p>
    <p>
    The <code>nosec</code> security scheme is provided for the case that 
    no security is needed.
    The minimal security configuration for a Thing is configuration 
    of the <code>nosec</code> security scheme 
    at the top level, as in the following example:
    </p>
<pre class="example">
{
    "id": "urn:dev:wot:com:example:servient:myThing",
    "name": "MyThing",
    "description": "Additional (human) readable information of the Thing.",
    "support": "https://servient.example.com/contact",
    "securityDefinitions": {"nosec_sc": {"scheme": "nosec"}},
    "security": ["nosec_sc"],
    "properties": {...},
    "actions": {...},
    "events": {...},
    "links": [...]
}
</pre> 

    <p>
    To give a more complex example, 
    suppose we have a Thing where all interactions
    require basic authentication except for one interaction for which
    no authentication is required.
    In the following, the <code>nosec</code> scheme for
    the security configuration in the <code>overheating</code> event 
    to indicate no authentication is required.  
    For the <code>status</code> property and the <code>toggle</code>
    action, however, <code>basic</code> authentication is required as defined
    at the top level of the Thing.
    </p>
<pre class="example">
{
    ...
    "securityDefinitions": {
        "nosec_sc": {"scheme": "nosec"},
        "basic_sc": {"scheme": "basic"}
    },
    "security": ["basic_sc"],
    ...
    "properties": {
        "status": {
            ...
            "forms": [{
                "href": "https://mylamp.example.com/status",
                "contentType": "application/json",
            }]
        }
    },
    "actions": {
        "toggle": {
            ...
            "forms": [{
                "href": "https://mylamp.example.com/toggle",
                "contentType": "application/json"
            }]
        }
    },
    "events": {
        "overheating": {
            ...
            "forms": [{
                "href": "https://mylamp.example.com/oh",
                "contentType": "application/json",
                "security": ["nosec_sc"] 
            }]
        }
    }
}
</pre>

      <p>
      Security configurations can also can be specified for different elements
      at the same level.  This may be required for devices that support
      multiple protocols, for example CoAP and HTTP, with support for different
      security mechanisms.  This is also useful when alternative authentication
      mechanisms are allowed.  Here is a TD snippet demonstrating three possible
      ways to access a resource: via HTTPS with basic authentication, via HTTPS
      via digest authentication, or via CoAPS with an API key.
      In other words, 
      the use of multiple security configurations at the same level 
      provides a way to combine security mechanisms an in "OR" fashion.
      In contrast, putting multiple security configurations in the same
      <code>security</code> field combines them in an "AND" fashion, 
      since in that case
      they would all need to be satisfied to allow access to the resource.
      Note that a <code>security</code> declaration is still mandatory at the 
      Thing level.  Here we use a <code>nosec</code> scheme for symmetry
      but could also have used any one of the other ones as it will be
      overridden in each form.
      </p>
<pre class="example">
    "securityDefinitions": {
        "nosec_sc": {"scheme": "nosec"},
        "basic_sc": {"scheme": "basic"},
        "digest_sc": {"scheme": "digest"},
        "apikey_sc": {"scheme": "apikey"}
    },
    "security": ["nosec_sc"]
    ...
    "properties": {
        "status": {
            ...
            "forms": [
                {
                    "href": "https://mylamp.example.com/status",
                    "contentType": "application/json",
                    "security": ["basic_sc"]
                },
                {
                    "href": "https://mylamp.example.com/status",
                    "contentType": "application/json",
                    "security": ["digest_sc"]
                },
                {
                    "href": "coaps://mylamp.example.com:5683/status",
                    "contentType": "application/json",
                    "security": ["apikey_sc"]
                }
            ]
        }
    },
    ...
</pre>
  <p>As another more complex example, OAuth2 makes use of scopes. 
  These are identifiers that 
  may appear in tokens and must match with corresponding identifiers in a resource to allow 
  access to that resource. 
  For example, in the following, the "status" property can be 
  read by users using bearer tokens containing the scope "limited" 
  but the "configure" action can only be 
  used when the interaction is invoked with a token containing the "special" scope. 
  Scopes are not identical to roles but are often associated with them; 
  for example, perhaps only those in an administrative role can perform "special" interactions.
  Tokens can have more than one scope.  
  In this example, an administrator would
  probably be issued tokens with both the "limited" and "special" scopes while ordinary
  users would only be issued tokens with the "limited" scope.
  </p>
<pre class="example">
    ...
    "securityDefinitions": {
        "oauth2_sc": {
            "scheme": "oauth2",
            ...
            "scopes": ["limited","special"]
        }
    },
    "security": ["oauth2_sc"],
    "properties": {
        "status": {
            ...
            "forms": [
                {
                    "href": "https://scopes.example.com/status",
                    "contentType": "application/json",
                    "scopes": ["limited"]
                }
            ]
        }
    },
    "action": {
        "configure": {
            ...
            "forms": [
                {
                    "href": "https://scopes.example.com/configure",
                    "contentType": "application/json",
                    "scopes": ["special"]
                }
            ]
        }
    },
    ...
</pre>

  </section> <!-- end of id="security-serialization-json"-->


  <section id="version-serialization-json">
    <h2><code>version</code></h2>

    <p><span class="rfc2119-assertion" id="td-version">
        The mandatory vocabulary term
        as defined in the class <a href="#versioning" class="sec-ref"><code>Versioning</code></a>,
        MUST be serialized as a JSON key.
    </span></p>

    <p>The recommended version identification pattern value is to rely on the semantic versioning policy: [[?SemVer]]</p>

    <p>A TD snippet based on the defined fields is given below:</p>
    <pre class="example">
        ...
        "version": {"instance":"1.2.1"}
        ...
    </pre>

    <p><span class="rfc2119-assertion" id="td-version">
        The version container MAY be used to provide additional application and/or device specific version information based on terms from non-TD namespaces. 
    </span></p>

    <p>A TD snippet based on such additional version metadata from a xyz context is given below:</p>
    <pre class="example">
        ...
        "version": {"instance":"1.2.1", "xyz:firmware": "0.9.1", "xyz:hardware": "1.0"}
        ...
    </pre>

    </section> <!-- end of id="version-json"-->

  </section> <!-- end of id="serialization-json"-->

  <section id="media-type-section">  
  <h1>Media Type</h1>

  <p>
  The JSON-based serialization of the TD is identified by 
  the media type [[!MEDIATYPES]] <code>application/td+json</code>.
  </p>

  <p class="ednote" title="CoAP Content Format">
  CoAP-based WoT implementations can use the experimental Content-Format
  <code>65100</code> until a proper identifier has been registered.
  </p>

  <p class="ednote" title="IANA Considerations">
  Neither the <code>application/td+json</code> content type nor
  a CoAP Content-Format identifier have been registered with IANA yet.
  </p>

  </section>

  <section id="Implementation-Note-section">
  <h2>Implementation Notes</h2>

  <p>
  The minimum requirement to read the content of a Thing Description 
  instance is a (simple) JSON parser.
  </p>

  <p><span class="rfc2119-assertion" id="td-readOnly-observable-default">
  If the key terms <code>readOnly</code> and/or <code>observable</code> 
  are not present within a <code>properties</code> definition,
  the default value defined in <a href="#sec-vocabulary-definition"></a>
  MUST be assumed.
  </span></p>
  
  <p><span class="rfc2119-assertion" id="td-media-type-default">
  If the <code>contentType</code> key term is not present within a 
  <code>forms</code> definition, the default value as defined in
  <a href="#sec-vocabulary-definition"></a>
  MUST be assumed.   
  </span></p>

  </section>

  </section> <!-- end of id="sec-td-serialization"-->

  <section id="example-serialization">
  <h2>Example Thing Description Instances</h2>

  <section id="myLampThing-example-serialization">
  <h3>MyLampThing Example</h3>

<pre class="example" title="MyLampThing example">
{
    "id": "urn:dev:wot:com:example:servient:lamp",
    "name": "MyLampThing",
    "description" : "MyLampThing uses JSON serialization",
    "securityDefinitions": {"psk_sc":{"scheme": "psk"}},
    "security": ["psk_sc"],
    "properties": {
        "status": {
            "description" : "Shows the current status of the lamp",
            "type": "string",
            "forms": [{
                "href": "coaps://mylamp.example.com/status"
            }]
        }
    },
    "actions": {
        "toggle": {
            "description" : "Turn on or off the lamp",
            "forms": [{
                "href": "coaps://mylamp.example.com/toggle"
            }]
        }
    },
    "events": {
        "overheating": {
            "description" : "Lamp reaches a critical temperature (overheating)",
            "data": {"type": "string"},
            "forms": [{
                "href": "coaps://mylamp.example.com/oh"
            }]
        }
    }
}
</pre>

  </section>

  </section>
     
  <section id="sec-security-consideration">
  <h4>Security and Privacy Considerations</h4>
  
  <p>
  In general the security measures taken to protect a WoT 
  system will depend on the threats and attackers that system
  may face and the value of the assets needs to protect.
  A detailed discussion of security and privacy considerations for the Web of Things,
  including a threat model that can be adapted to various circumstances, is
  presented in the informative document [[!WOT-SECURITY-CONSIDERATIONS]].  
  This section discusses only security and privacy risks
  and possible mitigations directly relevant to the WoT Thing Description.
  </p>
  <p>A WoT Thing Description can describe both secure and 
  insecure network interfaces.  When a Thing Description is 
  retro-fitted to an existing network interface, no change in the 
  security status of the network interface is to be expected.
  </p>
  <p>
  When designing new devices and services for use with the WoT,
  we have documented a suggested set of best practices
  in [[!WOT-SECURITY-BEST-PRACTICES]] to improve security.
  This best-practices document may be updated as security measures evolve.
  Following these practices does not guarantee security, 
  but it at least will help to avoid common known vulnerabilities.
  </p>
  <p>The use of a WoT Thing Description introduces  
  the security and privacy risks given in the following sections.
  After each risk, we suggest some possible mitigations.
  </p>
   <section id="sec-security-consideration-id">
   <h5>Immutable Identifiers Privacy Risk</h5>
      <p>The fact that a Thing Description contains a unique
          identifier means that should it be associated with
          a person it can be used to track that person and 
          therefore pose a risk to privacy.
      </p>
      <dl><dt>Mitigation:</dt><dd>
          All identifiers should be mutable,
          and there should be a mechanism to update the <code>id</code>
          of a Thing.
          Specifically,
          the <code>id</code> of a Thing should not be fixed in hardware.
          This does, however, conflict with the Linked Data ideal that
          identifiers are fixed URIs.  In many circumstances it
          will be acceptable to only allow updates to identifiers if
          a Thing is reinitialized.  In this case as a software entity the
          old Thing ceases to exist and a new Thing is created.
          This can be sufficient to break a tracking chain when, for
          example, a device is sold to a new owner.
          Alternatively, if more frequent changes are desired during 
          the operational phase of a device,
          a mechanism can be put into place to notify only authorized users
          of the change in identifier when a change is made.
          Note however that some classes of devices, e.g. medical devices,
          may require immutable IDs by law in some jurisdictions.
          In this case extra attention should be paid to secure 
          access to files, such as Thing Descriptions, containing such
          immutable identifiers.
          </dd></dl>
      </p>
   </section>
   <section id="sec-security-consideration-fingerprint">
   <h5>Fingerprinting Privacy Risk</h5>
      <p>As noted above, the <code>id</code> field in a TD can pose a privacy risk.  
      However, even if the <code>id</code> is updated as described to mitigate its
      tracking risk, it may still be possible to associate
      a TD with a particular physical device, and from there to a person, through fingerprinting.
      </p>
      <dl><dt>Mitigation:</dt><dd>
          Only authorized users should be provided access
          to the Thing Description for a Thing.
          If the TD is only distributed to authorized users 
          through secure and confidential channels, for
          example through a directory service that requires authentication,
          the risk can be minimized.  
      </dd></dl>
   </section>
   <section id="sec-security-consideration-tampering">
   <h5>TD Interception and Tampering Security Risk</h5>
      <p>Intercepting and tampering with TDs can be used to launch man-in-the-middle attacks,
      for example by rewriting URLs in TDs to redirect accesses to a malicious 
      intermediary that can capture or manipulate data.
      </p>
      <dl><dt>Mitigation:</dt><dd>
          Obtain Thing Descriptions only through
          mutually authenticated channels.
          This ensures that the client and the server are both sure of the 
          identity of the other party to the communication.
          This is also necessary in order to deliver TDs only to authorized users.
      </dd></dl>
   </section>
   <section id="sec-security-consideration-tampering">
   <h5>Context Interception and Tampering Security Risk</h5>
      <p>Intercepting and tampering with context files can be used to facilitate attacks
      by modifying the interpretation of vocabulary. 
      </p>
      <dl><dt>Mitigation:</dt><dd>
	      Ideally context files would only be obtained through authenticated channels
	      but it is notable (and unfortunate) that many contexts are indicated using
	      HTTP URLs, which are vulnerable to interception and modification if 
	      dereferenced.  However, if context files are immutable and cached, 
	      and dereferencing is avoided whenever possible, then this risk can be reduced.
      </dd></dl>
   </section>
   <section id="sec-security-consideration-inferencing">
   <h5>Inferencing of Personally Identifiable Information Privacy Risk</h5>
      <p>In many locales, in order to protect the privacy of users,
      there are legal requirements for the handling of
      personally identifiable information,
      that is,
      information that can be associated with a particular person.
      Such information can of course be generated by IoT devices directly.
      However,
      the existence and metadata of IoT devices
      (the kind of data stored in a Thing Description)
      can also contain or be used to infer personally identifiable information.
      This information can be as simple as the fact that a certain person owns a certain
      type of device,
      which can lead to additional inferences about that person.
      </p>
      <dl><dt>Mitigation:</dt><dd>
          Treat a Thing Description associated with a 
	      personal device as if it contained
	      personally identifiable information.
          As an example application of this principle,
          consider how to obtain user consent.  
          Consent for usage of personally identifiable data
          generated by a Thing is often obtained when a Thing is paired with system
          consuming the data,
          which is frequently also when the Thing Description
          is registered with a local directory or the system consuming the 
          Thing Description in order to access the device.
          In this case consent for using data from a Thing can be combined with
          consent for accessing the Thing's Thing Description.
          As a second example, if we consider a TD to contain personally
          identifiable information, then it should not be retained indefinitely
          or used for purposes other than those for which consent was given.
      </dd></dt>
  </section>

  </section>

  <section id="json-schema-4-validation" class="appendix normative">
  <h1>JSON Schema for TD Instance Validation</h1>
  Below is a JSON Schema [[?JSON-SCHEMA-VALIDATION]] for syntactically validating Thing Description instances serialized in JSON-LD 1.1.
  <p class="ednote">
  This schema is known to be too permissive. This issue will be resolved in the next release of this document.
  </p>

<pre class="advisement">
{
    "title": "WoT TD Schema - Nov 2018",
    "description": "JSON Schema representation of the TD serialisation format.",
    "$schema ": "http://json-schema.org/draft-06/schema#",
    "type": "object",
    "properties": {
        "base": {
            "$ref": "#/definitions/url"
        },
        "@type": {
            "$ref": "#/definitions/type_declaration"
        },
        "@context": {
            "$ref": "#/definitions/context"
        },
        "name": {
            "type": "string"
        },
        "id": {
            "type": "string"
        },
        "description": {
            "type": "string"
        },
        "properties": {
            "additionalProperties": {
                "$ref": "#/definitions/property_element"
            }
        },
        "actions": {
            "additionalProperties": {
                "$ref": "#/definitions/action_element"
            }
        },
        "events": {
            "additionalProperties": {
                "$ref": "#/definitions/event_element"
            }
        },
        "links": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/link_element"
            }
        },
        "support": {
            "type": "string"
        },
        "security": {
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "securityDefinitions": {
            "additionalProperties": {
                "$ref": "#/definitions/securityScheme"
            }
        },
        "version": {
            "type": "object",
            "properties": {
                "instance": {
                    "type": "string"
                }
            },
            "required": [
                "instance"
            ]
        }
    },
    "required": [
        "name",
        "id"
    ],
    "additionalProperties": true,
    "definitions": {
        "context": {
            "oneOf": [
                {
                    "type": "array",
                    "items": {
                        "anyOf": [
                            {
                                "$ref": "#/definitions/url"
                            },
                            {
                                "type": "object"
                            }
                        ]
                    },
                    "contains": {
                        "type": "string",
                        "enum": [
                            "http://www.w3.org/ns/td"
                        ]
                    }
                },
                {
                    "type": "string",
                    "enum": [
                        "http://www.w3.org/ns/td"
                    ]
                }
            ]
        },
        "type_declaration": {
            "oneOf": [
                {
                    "type": "string"
                },
                {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            ]
        },
        "form_element": {
            "type": "object",
            "properties": {
                "href": {
                    "$ref": "#/definitions/url"
                },
                "op": {
                    "oneOf": [
                        {
                            "type": "string",
                            "enum": [
                                "readproperty",
                                "writeproperty",
                                "observeproperty",
                                "invokeaction",
                                "subscribeevent",
                                "unsubscribeevent"
                            ]
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "readproperty",
                                    "writeproperty",
                                    "observeproperty",
                                    "invokeaction",
                                    "subscribeevent",
                                    "unsubscribeevent"
                                ]
                            }
                        }
                    ]
                },
                "mediaType": {
                    "type": "string"
                },
                "contenttype": {
                    "type": "string"
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subProtocol": {
                    "type": "string",
                    "enum": [
                        "longpoll"
                    ]
                }
            },
            "required": [
                "href"
            ],
            "additionalProperties": true
        },
        "property_element": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "uriVariables": {
                    "$ref": "#/definitions/dataSchema"
                },
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "writable": {
                    "type": "boolean"
                },
                "observable": {
                    "type": "boolean"
                },
                "forms": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/form_element"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "enum": {
                    "type": "array",
                    "minItems": 1,
                    "uniqueItems": true
                },
                "const": {},
                "type": {
                    "type": "string",
                    "enum": [
                        "boolean",
                        "integer",
                        "number",
                        "string",
                        "object",
                        "array",
                        "null"
                    ]
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
        },
        "action_element": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "uriVariables": {
                    "$ref": "#/definitions/dataSchema"
                },
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "forms": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/form_element"
                    }
                },
                "input": {
                    "$ref": "#/definitions/dataSchema"
                },
                "output": {
                    "$ref": "#/definitions/dataSchema"
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
        },
        "event_element": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "uriVariables": {
                    "$ref": "#/definitions/dataSchema"
                },
                "title": {
                    "type": "string"
                },
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "forms": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/form_element"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subscription": {
                    "$ref": "#/definitions/dataSchema"
                },
                "data": {
                    "$ref": "#/definitions/dataSchema"
                },
                "cancellation": {
                    "$ref": "#/definitions/dataSchema"
                },
                "type": {
                    "not": {}
                },
                "enum": {
                    "not": {}
                },
                "const": {
                    "not": {}
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
        },
        "dataSchema": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "enum": {
                    "type": "array",
                    "minItems": 1,
                    "uniqueItems": true
                },
                "const": {},
                "type": {
                    "type": "string",
                    "enum": [
                        "boolean",
                        "integer",
                        "number",
                        "string",
                        "object",
                        "array",
                        "null"
                    ]
                }
            }
        },
        "link_element": {
            "type": "object",
            "properties": {
                "anchor": {
                    "$ref": "#/definitions/url"
                },
                "href": {
                    "$ref": "#/definitions/url"
                },
                "rel": {
                    "type": "string"
                },
                "mediatype": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            },
            "required": [
                "href"
            ],
            "additionalProperties": true
        },
        "securityScheme": {
            "oneOf": [
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "nosec"
                            ]
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "basic"
                            ]
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "cert"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "digest"
                            ]
                        },
                        "qop": {
                            "type": "string"
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "bearer"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/url"
                        },
                        "alg": {
                            "type": "string"
                        },
                        "format": {
                            "type": "string"
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "psk"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "public"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "oath2"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/url"
                        },
                        "token": {
                            "$ref": "#/definitions/url"
                        },
                        "refresh": {
                            "$ref": "#/definitions/url"
                        },
                        "scopes": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "flow": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "apikey"
                            ]
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "pop"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/url"
                        },
                        "format": {
                            "type": "string"
                        },
                        "alg": {
                            "type": "string"
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                }
            ]
        },
        "url": {
            "type": "string",
            "format": "uri",
            "pattern": "(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(([^#]*))?(#(.*))?"
        }
    }
}

</pre>

  </section>

  <section id="changes" class="appendix">
  <h1>Recent Specification Changes</h1>
  <h2 id="changes3">Changes from Third Public Working Draft</h2>
  <ul>
    <li>Removed most references to RDF, JSON-LD, <code>@context</code>, and added pointer to [[WOT-ONTOLOGY]] Group Note that centralizes all RDF-related issues.</li>
    <li>Add <code>securityDefinitions</code>, update examples using <code>security</code> to use defined names, not SecurityScheme objects.</li>
    <li>Security and Privacy Considerations section (Section <a href="#sec-security-consideration"></a>) added.</li>
    <li>Add an example for the use of <code>scopes</code>.</li>
    <li>Remove all Url postfixes in parameter names for security schemes.</li>
    <li>Make it clear that the top-level <a href="#security-serialization-json"><code>security</code></a> declaration is mandatory.</li>
    <li><a href="#dataschema">DataSchema</a> class now has an optional <code>unit</code> field to provide unit information.</li>
    <li><a href="#link">Link</a> class's <code>mediaType</code> field was renamed to <code>type</code>, and the field was given an improved description.</li>
    <li><a href="#form">Form</a> class's <code>mediaType</code> field was renamed to <code>contentType</code> to reflect that it can assign not only a media type but also its parameter settings.</li>
    <li><a href="#action">Action</a> class now has optional <code>safe</code> and <code>idempotent</code> fields to provide information as to the safeness and idempotency of the action.</li>
    <li><a href="#thing">Thing</a> class now has optional <code>created</code> and <code>lastModified</code> fields to provide information as to when the TD instance was created (in the case of <code>created</code>) or was last modified (in the case of <code>lastModified</code>).</li>
    <li>Property interactions are now both readable and writable by default. This can be overridden through <code>readOnly</code> and <code>writeOnly</code> field settings available in <a href="#dataschema">DataSchema</a> class.</li>
    <li><a href="#interactionpattern">InteractionPattern</a> class's <code>label</code> field was renamed as <code>title</code> to be consistent with JSON Schema.</li>
    <li><a href="#form">Form</a> class's <code>rel</code> field was renamed as <code>op</code>.</li>
    <li><a href="#event">Event</a> class now has optional <code>subscription</code> and <code>cancellation</code> 
fields that define data that needs to be passed upon subscription and cancellation, respectively.</li>
    <li><a href="#interactionpattern">InteractionPattern</a> class now has an optional <code>uriVariables</code> field where URI template variables can be defined.</li>
    <li><a href="#thing">Thing</a> class now has an optional <code>version</code> field for providing version information.</li>
  </ul>

  <h2 id="changes2">Changes from Second Public Working Draft</h2>
  <p>Changes from Second Public Working Draft are described in the 
  <a href="https://www.w3.org/TR/2018/WD-wot-thing-description-20181021/#changes">Third Public Working Draft</a>
  </p>

  </section>

  <section id="acknowledgements" class="appendix normative">
  <h1>Acknowledgements</h1>
  <p>The editors would like to thank Dave Raggett, Matthias Kovatsch, Michael McCool, Michael Koster, Victor Charpenay, Kawaguchi Toru, Michael Lagally, Kazuyuki Ashimura, María Poveda, Daniel Peintner, Ben Francis for their contributions, comments, and guidance.</p>
  </section>

</body>
</html>
